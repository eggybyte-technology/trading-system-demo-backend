=== Trading System Unit Test Log ===
Timestamp: 2025-05-11 20:33:16
=================================

Configuration Settings:
Tests:Mode = stress
Tests:Verbose = False
Tests:GenerateTestCoverage = True
Tests:CoverageOutputPath = ./logs/coverage
Tests:TestTimeout = not set
Tests:RetryCount = not set

Effective Configuration Values:
Verbose: False
GenerateTestCoverage: True
CoverageOutputPath: ./logs/coverage
TestTimeout: 30
RetryCount: 3

Test Assembly: C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\bin\Debug\net9.0\SimulationTest.dll

Discovered 7 test classes:
  - AccountServiceTests
  - IdentityServiceTests
  - MarketDataServiceTests
  - MatchMakingServiceTests
  - NotificationServiceTests
  - RiskServiceTests
  - TradingServiceTests

  Test: CheckConnectivity_AccountService_ShouldBeAccessible
  Description: Test connectivity to Account Service
  Start time: 2025-05-11 20:33:16.581
  Result: PASSED
  End time: 2025-05-11 20:33:16.601
  Duration: 15.69 ms

  Test: CreateWithdrawal_WithValidData_ShouldSucceed
  Description: Test creating a withdrawal with valid data
  Start time: 2025-05-11 20:33:16.603
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.608
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.CreateWithdrawal_WithValidData_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 221

  Test: GetWithdrawalStatus_WithValidId_ShouldReturnWithdrawal
  Description: Test getting withdrawal status with valid ID
  Start time: 2025-05-11 20:33:16.630
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.633
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.GetWithdrawalStatus_WithValidId_ShouldReturnWithdrawal() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 306

  Test: CheckConnectivity_IdentityService_ShouldBeAccessible
  Description: Test connectivity to Identity Service
  Start time: 2025-05-11 20:33:16.634
  Result: PASSED
  End time: 2025-05-11 20:33:16.652
  Duration: 15.51 ms

  Test: GetSymbols_ShouldReturnSymbols
  Description: Test getting trading symbols
  Start time: 2025-05-11 20:33:16.653
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.714
  Error: Exception occurred during test: API request failed: 
  Stack trace:    at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 174
   at SimulationTest.Tests.MarketDataServiceTests.GetSymbols_ShouldReturnSymbols() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 27

  Test: GetTicker_WithValidSymbol_ShouldReturnMarketData
  Description: Test getting ticker data for a valid symbol
  Start time: 2025-05-11 20:33:16.715
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.758
  Error: Exception occurred during test: Response status code does not indicate success: 404 (Not Found).
  Stack trace:    at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 169
   at SimulationTest.Tests.MarketDataServiceTests.GetTicker_WithValidSymbol_ShouldReturnMarketData() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 69

  Test: GetMarketSummary_ShouldReturnSummary
  Description: Test getting market summary
  Start time: 2025-05-11 20:33:16.759
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.803
  Error: Exception occurred during test: API request failed: 
  Stack trace:    at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 174
   at SimulationTest.Tests.MarketDataServiceTests.GetMarketSummary_ShouldReturnSummary() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 119

  Test: GetOrderBookDepth_WithValidSymbol_ShouldReturnOrderBook
  Description: Test getting order book depth for a valid symbol
  Start time: 2025-05-11 20:33:16.804
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.844
  Error: Exception occurred during test: Response status code does not indicate success: 404 (Not Found).
  Stack trace:    at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 169
   at SimulationTest.Tests.MarketDataServiceTests.GetOrderBookDepth_WithValidSymbol_ShouldReturnOrderBook() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 161

  Test: GetKlines_WithValidParameters_ShouldReturnKlines
  Description: Test getting candlestick data with valid parameters
  Start time: 2025-05-11 20:33:16.845
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.897
  Error: Exception occurred during test: The JSON value could not be converted to SimulationTest.Tests.ApiResponse`1[System.Collections.Generic.List`1[SimulationTest.Tests.Kline]]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
  Stack trace:    at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Net.Http.Json.HttpContentJsonExtensions.ReadFromJsonAsyncCore[T](HttpContent content, JsonSerializerOptions options, CancellationToken cancellationToken)
   at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 171
   at SimulationTest.Tests.MarketDataServiceTests.GetKlines_WithValidParameters_ShouldReturnKlines() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 219

  Test: GetRecentTrades_WithValidSymbol_ShouldReturnTrades
  Description: Test getting recent trades for a valid symbol
  Start time: 2025-05-11 20:33:16.899
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.942
  Error: Exception occurred during test: The JSON value could not be converted to SimulationTest.Tests.ApiResponse`1[System.Collections.Generic.List`1[SimulationTest.Tests.Trade]]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
  Stack trace:    at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Net.Http.Json.HttpContentJsonExtensions.ReadFromJsonAsyncCore[T](HttpContent content, JsonSerializerOptions options, CancellationToken cancellationToken)
   at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 171
   at SimulationTest.Tests.MarketDataServiceTests.GetRecentTrades_WithValidSymbol_ShouldReturnTrades() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 261

  Test: GetMatchEngineStatus_WhenAuthenticated_ShouldReturnStatus
  Description: Test getting match engine status when authenticated
  Start time: 2025-05-11 20:33:16.943
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.947
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.MatchMakingServiceTests.GetMatchEngineStatus_WhenAuthenticated_ShouldReturnStatus() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MatchMakingServiceTests.cs:line 28

  Test: GetMatchingJobsHistory_WhenAuthenticated_ShouldReturnJobs
  Description: Test getting matching jobs history when authenticated
  Start time: 2025-05-11 20:33:16.947
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.951
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.MatchMakingServiceTests.GetMatchingJobsHistory_WhenAuthenticated_ShouldReturnJobs() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MatchMakingServiceTests.cs:line 73

  Test: CheckConnectivity_NotificationService_ShouldBeAccessible
  Description: Test connectivity to Notification Service
  Start time: 2025-05-11 20:33:16.952
  Result: PASSED
  End time: 2025-05-11 20:33:16.972
  Duration: 18.20 ms

  Test: GetNotifications_WhenAuthenticated_ShouldReturnNotifications
  Description: Test getting notifications when authenticated
  Start time: 2025-05-11 20:33:16.972
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.977
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.NotificationServiceTests.GetNotifications_WhenAuthenticated_ShouldReturnNotifications() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\NotificationServiceTests.cs:line 65

  Test: UpdateNotificationSettings_WithValidData_ShouldSucceed
  Description: Test updating notification settings
  Start time: 2025-05-11 20:33:16.978
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.983
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.NotificationServiceTests.UpdateNotificationSettings_WithValidData_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\NotificationServiceTests.cs:line 103

  Test: MarkNotificationAsRead_WithValidId_ShouldSucceed
  Description: Test marking a notification as read
  Start time: 2025-05-11 20:33:16.984
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.988
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.NotificationServiceTests.MarkNotificationAsRead_WithValidId_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\NotificationServiceTests.cs:line 168

  Test: WebSocketConnection_ShouldEstablishConnection
  Description: Test web socket connection to notification service
  Start time: 2025-05-11 20:33:16.988
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.993
  Error: Exception occurred during WebSocket test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.NotificationServiceTests.WebSocketConnection_ShouldEstablishConnection() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\NotificationServiceTests.cs:line 227

  Test: GetRiskStatus_WhenAuthenticated_ShouldReturnRiskProfile
  Description: Test getting risk status when authenticated
  Start time: 2025-05-11 20:33:16.993
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:16.997
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.RiskServiceTests.GetRiskStatus_WhenAuthenticated_ShouldReturnRiskProfile() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\RiskServiceTests.cs:line 28

  Test: GetTradingLimits_WhenAuthenticated_ShouldReturnRiskRules
  Description: Test getting trading limits when authenticated
  Start time: 2025-05-11 20:33:16.998
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.002
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.RiskServiceTests.GetTradingLimits_WhenAuthenticated_ShouldReturnRiskRules() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\RiskServiceTests.cs:line 73

  Test: AcknowledgeRiskAlert_WithValidId_ShouldSucceed
  Description: Test acknowledging a risk alert with valid ID
  Start time: 2025-05-11 20:33:17.003
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.006
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.RiskServiceTests.AcknowledgeRiskAlert_WithValidId_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\RiskServiceTests.cs:line 110

  Test: CheckConnectivity_TradingService_ShouldBeAccessible
  Description: Test connectivity to Trading Service
  Start time: 2025-05-11 20:33:17.007
  Result: PASSED
  End time: 2025-05-11 20:33:17.024
  Duration: 14.81 ms

  Test: CreateOrder_WithValidData_ShouldReturnOrder
  Description: Test creating an order with valid data
  Start time: 2025-05-11 20:33:17.025
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.028
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.CreateOrder_WithValidData_ShouldReturnOrder() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 72

  Test: GetOrder_WithValidOrderId_ShouldReturnOrder
  Description: Test getting an order with valid order ID
  Start time: 2025-05-11 20:33:17.029
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.032
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.GetOrder_WithValidOrderId_ShouldReturnOrder() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 136

  Test: GetOpenOrders_WhenAuthenticated_ShouldReturnOpenOrders
  Description: Test getting open orders when authenticated
  Start time: 2025-05-11 20:33:17.032
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.036
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.GetOpenOrders_WhenAuthenticated_ShouldReturnOpenOrders() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 215

  Test: CancelOrder_WithValidOrderId_ShouldSucceed
  Description: Test cancelling an order with valid order ID
  Start time: 2025-05-11 20:33:17.036
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.039
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.CancelOrder_WithValidOrderId_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 297

  Test: GetOrderHistory_WhenAuthenticated_ShouldReturnOrderHistory
  Description: Test getting order history when authenticated
  Start time: 2025-05-11 20:33:17.039
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.042
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.GetOrderHistory_WhenAuthenticated_ShouldReturnOrderHistory() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 379

  Test: GetTradeHistory_WhenAuthenticated_ShouldReturnTradeHistory
  Description: Test getting trade history when authenticated
  Start time: 2025-05-11 20:33:17.043
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.045
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.GetTradeHistory_WhenAuthenticated_ShouldReturnTradeHistory() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 425

  Test: Register_WithValidData_ShouldSucceed
  Description: Test registration with valid data
  Start time: 2025-05-11 20:33:17.046
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.293
  Error: Exception occurred during test: Response status code does not indicate success: 400 (Bad Request).
  Stack trace:    at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at SimulationTest.Tests.ApiTestBase.PostAsync[TRequest,TResponse](String serviceName, String endpoint, TRequest requestBody, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 204
   at SimulationTest.Tests.IdentityServiceTests.Register_WithValidData_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\IdentityServiceTests.cs:line 89

  Test: Login_WithValidCredentials_ShouldReturnToken
  Description: Test login with valid credentials
  Start time: 2025-05-11 20:33:17.294
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.951
  Error: Exception occurred during test: API request failed: 
  Stack trace:    at SimulationTest.Tests.ApiTestBase.PostAsync[TRequest,TResponse](String serviceName, String endpoint, TRequest requestBody, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 209
   at SimulationTest.Tests.IdentityServiceTests.Login_WithValidCredentials_ShouldReturnToken() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\IdentityServiceTests.cs:line 150

  Test: GetCurrentUser_WhenAuthenticated_ShouldReturnUserInfo
  Description: Test getting current user when authenticated
  Start time: 2025-05-11 20:33:17.952
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.959
  Error: Login test should have run first to obtain authentication token

  Test: UpdateUser_WithValidData_ShouldSucceed
  Description: Test updating user with valid data
  Start time: 2025-05-11 20:33:17.960
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.966
  Error: Login test should have run first to obtain authentication token

  Test: RefreshToken_WithValidToken_ShouldReturnNewToken
  Description: Test refreshing a valid token
  Start time: 2025-05-11 20:33:17.966
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.973
  Error: Login test should have run first to obtain authentication token

  Test: GetBalances_WhenAuthenticated_ShouldReturnBalances
  Description: Test getting account balances when authenticated
  Start time: 2025-05-11 20:33:17.974
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.978
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.GetBalances_WhenAuthenticated_ShouldReturnBalances() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 66

  Test: GetTransactions_WhenAuthenticated_ShouldReturnTransactions
  Description: Test getting transactions when authenticated
  Start time: 2025-05-11 20:33:17.978
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.981
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.GetTransactions_WhenAuthenticated_ShouldReturnTransactions() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 105

  Test: CreateDeposit_WithValidData_ShouldSucceed
  Description: Test creating a deposit when authenticated
  Start time: 2025-05-11 20:33:17.982
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.985
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.CreateDeposit_WithValidData_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 152

  Test: GetAssets_WhenAuthenticated_ShouldReturnAssets
  Description: Test getting assets when authenticated
  Start time: 2025-05-11 20:33:17.987
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:33:17.992
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.GetAssets_WhenAuthenticated_ShouldReturnAssets() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 394

