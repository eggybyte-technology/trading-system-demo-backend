=== Trading System Unit Test Log ===
Timestamp: 2025-05-11 20:32:17
=================================

Configuration Settings:
Tests:Mode = unit
Tests:Verbose = False
Tests:GenerateTestCoverage = True
Tests:CoverageOutputPath = ./logs/coverage
Tests:TestTimeout = not set
Tests:RetryCount = not set

Effective Configuration Values:
Verbose: False
GenerateTestCoverage: True
CoverageOutputPath: ./logs/coverage
TestTimeout: 30
RetryCount: 3

Test Assembly: C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\bin\Debug\net9.0\SimulationTest.dll

Discovered 7 test classes:
  - AccountServiceTests
  - IdentityServiceTests
  - MarketDataServiceTests
  - MatchMakingServiceTests
  - NotificationServiceTests
  - RiskServiceTests
  - TradingServiceTests

  Test: CheckConnectivity_AccountService_ShouldBeAccessible
  Description: Test connectivity to Account Service
  Start time: 2025-05-11 20:32:18.091
  Result: PASSED
  End time: 2025-05-11 20:32:18.114
  Duration: 18.83 ms

  Test: CreateWithdrawal_WithValidData_ShouldSucceed
  Description: Test creating a withdrawal with valid data
  Start time: 2025-05-11 20:32:18.118
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.123
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.CreateWithdrawal_WithValidData_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 220

  Test: GetWithdrawalStatus_WithValidId_ShouldReturnWithdrawal
  Description: Test getting withdrawal status with valid ID
  Start time: 2025-05-11 20:32:18.140
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.144
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.GetWithdrawalStatus_WithValidId_ShouldReturnWithdrawal() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 305

  Test: CheckConnectivity_IdentityService_ShouldBeAccessible
  Description: Test connectivity to Identity Service
  Start time: 2025-05-11 20:32:18.145
  Result: PASSED
  End time: 2025-05-11 20:32:18.167
  Duration: 18.44 ms

  Test: GetSymbols_ShouldReturnSymbols
  Description: Test getting trading symbols
  Start time: 2025-05-11 20:32:18.167
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.232
  Error: Exception occurred during test: API request failed: 
  Stack trace:    at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 174
   at SimulationTest.Tests.MarketDataServiceTests.GetSymbols_ShouldReturnSymbols() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 27

  Test: GetTicker_WithValidSymbol_ShouldReturnMarketData
  Description: Test getting ticker data for a valid symbol
  Start time: 2025-05-11 20:32:18.233
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.281
  Error: Exception occurred during test: Response status code does not indicate success: 404 (Not Found).
  Stack trace:    at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 169
   at SimulationTest.Tests.MarketDataServiceTests.GetTicker_WithValidSymbol_ShouldReturnMarketData() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 69

  Test: GetMarketSummary_ShouldReturnSummary
  Description: Test getting market summary
  Start time: 2025-05-11 20:32:18.282
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.324
  Error: Exception occurred during test: API request failed: 
  Stack trace:    at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 174
   at SimulationTest.Tests.MarketDataServiceTests.GetMarketSummary_ShouldReturnSummary() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 119

  Test: GetOrderBookDepth_WithValidSymbol_ShouldReturnOrderBook
  Description: Test getting order book depth for a valid symbol
  Start time: 2025-05-11 20:32:18.325
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.371
  Error: Exception occurred during test: Response status code does not indicate success: 404 (Not Found).
  Stack trace:    at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 169
   at SimulationTest.Tests.MarketDataServiceTests.GetOrderBookDepth_WithValidSymbol_ShouldReturnOrderBook() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 161

  Test: GetKlines_WithValidParameters_ShouldReturnKlines
  Description: Test getting candlestick data with valid parameters
  Start time: 2025-05-11 20:32:18.372
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.418
  Error: Exception occurred during test: The JSON value could not be converted to SimulationTest.Tests.ApiResponse`1[System.Collections.Generic.List`1[SimulationTest.Tests.Kline]]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
  Stack trace:    at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Net.Http.Json.HttpContentJsonExtensions.ReadFromJsonAsyncCore[T](HttpContent content, JsonSerializerOptions options, CancellationToken cancellationToken)
   at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 171
   at SimulationTest.Tests.MarketDataServiceTests.GetKlines_WithValidParameters_ShouldReturnKlines() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 219

  Test: GetRecentTrades_WithValidSymbol_ShouldReturnTrades
  Description: Test getting recent trades for a valid symbol
  Start time: 2025-05-11 20:32:18.421
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.474
  Error: Exception occurred during test: The JSON value could not be converted to SimulationTest.Tests.ApiResponse`1[System.Collections.Generic.List`1[SimulationTest.Tests.Trade]]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
  Stack trace:    at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Net.Http.Json.HttpContentJsonExtensions.ReadFromJsonAsyncCore[T](HttpContent content, JsonSerializerOptions options, CancellationToken cancellationToken)
   at SimulationTest.Tests.ApiTestBase.GetAsync[T](String serviceName, String endpoint, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 171
   at SimulationTest.Tests.MarketDataServiceTests.GetRecentTrades_WithValidSymbol_ShouldReturnTrades() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MarketDataServiceTests.cs:line 261

  Test: GetMatchEngineStatus_WhenAuthenticated_ShouldReturnStatus
  Description: Test getting match engine status when authenticated
  Start time: 2025-05-11 20:32:18.475
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.480
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.MatchMakingServiceTests.GetMatchEngineStatus_WhenAuthenticated_ShouldReturnStatus() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MatchMakingServiceTests.cs:line 28

  Test: GetMatchingJobsHistory_WhenAuthenticated_ShouldReturnJobs
  Description: Test getting matching jobs history when authenticated
  Start time: 2025-05-11 20:32:18.480
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.486
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.MatchMakingServiceTests.GetMatchingJobsHistory_WhenAuthenticated_ShouldReturnJobs() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\MatchMakingServiceTests.cs:line 73

  Test: CheckConnectivity_NotificationService_ShouldBeAccessible
  Description: Test connectivity to Notification Service
  Start time: 2025-05-11 20:32:18.487
  Result: PASSED
  End time: 2025-05-11 20:32:18.509
  Duration: 20.12 ms

  Test: GetNotifications_WhenAuthenticated_ShouldReturnNotifications
  Description: Test getting notifications when authenticated
  Start time: 2025-05-11 20:32:18.509
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.513
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.NotificationServiceTests.GetNotifications_WhenAuthenticated_ShouldReturnNotifications() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\NotificationServiceTests.cs:line 65

  Test: UpdateNotificationSettings_WithValidData_ShouldSucceed
  Description: Test updating notification settings
  Start time: 2025-05-11 20:32:18.514
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.518
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.NotificationServiceTests.UpdateNotificationSettings_WithValidData_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\NotificationServiceTests.cs:line 103

  Test: MarkNotificationAsRead_WithValidId_ShouldSucceed
  Description: Test marking a notification as read
  Start time: 2025-05-11 20:32:18.519
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.523
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.NotificationServiceTests.MarkNotificationAsRead_WithValidId_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\NotificationServiceTests.cs:line 168

  Test: WebSocketConnection_ShouldEstablishConnection
  Description: Test web socket connection to notification service
  Start time: 2025-05-11 20:32:18.524
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.526
  Error: Exception occurred during WebSocket test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.NotificationServiceTests.WebSocketConnection_ShouldEstablishConnection() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\NotificationServiceTests.cs:line 227

  Test: GetRiskStatus_WhenAuthenticated_ShouldReturnRiskProfile
  Description: Test getting risk status when authenticated
  Start time: 2025-05-11 20:32:18.527
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.531
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.RiskServiceTests.GetRiskStatus_WhenAuthenticated_ShouldReturnRiskProfile() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\RiskServiceTests.cs:line 28

  Test: GetTradingLimits_WhenAuthenticated_ShouldReturnRiskRules
  Description: Test getting trading limits when authenticated
  Start time: 2025-05-11 20:32:18.532
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.536
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.RiskServiceTests.GetTradingLimits_WhenAuthenticated_ShouldReturnRiskRules() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\RiskServiceTests.cs:line 73

  Test: AcknowledgeRiskAlert_WithValidId_ShouldSucceed
  Description: Test acknowledging a risk alert with valid ID
  Start time: 2025-05-11 20:32:18.537
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.542
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.RiskServiceTests.AcknowledgeRiskAlert_WithValidId_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\RiskServiceTests.cs:line 110

  Test: CheckConnectivity_TradingService_ShouldBeAccessible
  Description: Test connectivity to Trading Service
  Start time: 2025-05-11 20:32:18.543
  Result: PASSED
  End time: 2025-05-11 20:32:18.572
  Duration: 26.12 ms

  Test: CreateOrder_WithValidData_ShouldReturnOrder
  Description: Test creating an order with valid data
  Start time: 2025-05-11 20:32:18.572
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.578
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.CreateOrder_WithValidData_ShouldReturnOrder() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 72

  Test: GetOrder_WithValidOrderId_ShouldReturnOrder
  Description: Test getting an order with valid order ID
  Start time: 2025-05-11 20:32:18.579
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.584
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.GetOrder_WithValidOrderId_ShouldReturnOrder() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 136

  Test: GetOpenOrders_WhenAuthenticated_ShouldReturnOpenOrders
  Description: Test getting open orders when authenticated
  Start time: 2025-05-11 20:32:18.585
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.589
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.GetOpenOrders_WhenAuthenticated_ShouldReturnOpenOrders() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 215

  Test: CancelOrder_WithValidOrderId_ShouldSucceed
  Description: Test cancelling an order with valid order ID
  Start time: 2025-05-11 20:32:18.590
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.595
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.CancelOrder_WithValidOrderId_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 297

  Test: GetOrderHistory_WhenAuthenticated_ShouldReturnOrderHistory
  Description: Test getting order history when authenticated
  Start time: 2025-05-11 20:32:18.595
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.600
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.GetOrderHistory_WhenAuthenticated_ShouldReturnOrderHistory() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 379

  Test: GetTradeHistory_WhenAuthenticated_ShouldReturnTradeHistory
  Description: Test getting trade history when authenticated
  Start time: 2025-05-11 20:32:18.600
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.604
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.TradingServiceTests.GetTradeHistory_WhenAuthenticated_ShouldReturnTradeHistory() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\TradingServiceTests.cs:line 425

  Test: Register_WithValidData_ShouldSucceed
  Description: Test registration with valid data
  Start time: 2025-05-11 20:32:18.605
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:18.907
  Error: Exception occurred during test: Response status code does not indicate success: 400 (Bad Request).
  Stack trace:    at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at SimulationTest.Tests.ApiTestBase.PostAsync[TRequest,TResponse](String serviceName, String endpoint, TRequest requestBody, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 204
   at SimulationTest.Tests.IdentityServiceTests.Register_WithValidData_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\IdentityServiceTests.cs:line 89

  Test: Login_WithValidCredentials_ShouldReturnToken
  Description: Test login with valid credentials
  Start time: 2025-05-11 20:32:18.908
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:19.580
  Error: Exception occurred during test: API request failed: 
  Stack trace:    at SimulationTest.Tests.ApiTestBase.PostAsync[TRequest,TResponse](String serviceName, String endpoint, TRequest requestBody, Boolean requiresAuth) in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 209
   at SimulationTest.Tests.IdentityServiceTests.Login_WithValidCredentials_ShouldReturnToken() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\IdentityServiceTests.cs:line 150

  Test: GetCurrentUser_WhenAuthenticated_ShouldReturnUserInfo
  Description: Test getting current user when authenticated
  Start time: 2025-05-11 20:32:19.580
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:19.584
  Error: Login test should have run first to obtain authentication token

  Test: UpdateUser_WithValidData_ShouldSucceed
  Description: Test updating user with valid data
  Start time: 2025-05-11 20:32:19.584
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:19.587
  Error: Login test should have run first to obtain authentication token

  Test: RefreshToken_WithValidToken_ShouldReturnNewToken
  Description: Test refreshing a valid token
  Start time: 2025-05-11 20:32:19.587
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:19.590
  Error: Login test should have run first to obtain authentication token

  Test: GetBalances_WhenAuthenticated_ShouldReturnBalances
  Description: Test getting account balances when authenticated
  Start time: 2025-05-11 20:32:19.591
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:19.593
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.GetBalances_WhenAuthenticated_ShouldReturnBalances() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 65

  Test: GetTransactions_WhenAuthenticated_ShouldReturnTransactions
  Description: Test getting transactions when authenticated
  Start time: 2025-05-11 20:32:19.594
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:19.598
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.GetTransactions_WhenAuthenticated_ShouldReturnTransactions() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 104

  Test: CreateDeposit_WithValidData_ShouldSucceed
  Description: Test creating a deposit when authenticated
  Start time: 2025-05-11 20:32:19.598
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:19.602
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.CreateDeposit_WithValidData_ShouldSucceed() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 151

  Test: GetAssets_WhenAuthenticated_ShouldReturnAssets
  Description: Test getting assets when authenticated
  Start time: 2025-05-11 20:32:19.603
  Retry attempt 1 of 3
  Retry attempt 2 of 3
  Result: FAILED
  End time: 2025-05-11 20:32:19.607
  Error: Exception occurred during test: No authentication token available. Tests must be properly sequenced to run identity tests first (Register_WithValidData_ShouldSucceed followed by Login_WithValidCredentials_ShouldReturnToken).
  Stack trace:    at SimulationTest.Tests.ApiTestBase.EnsureAuthenticatedAsync() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\ApiTestBase.cs:line 145
   at SimulationTest.Tests.AccountServiceTests.GetAssets_WhenAuthenticated_ShouldReturnAssets() in C:\EggyByte\Coureses\Fudan\2025 spring\Paper\TradingSystem\backend\SimulationTest\Tests\AccountServiceTests.cs:line 393

